# Production Environment Configuration
# This file should be customized and stored securely

# Server Configuration
PORT=8080
ENV=production

# Database Configuration (Use managed database service)
DB_HOST=your-prod-db-host.amazonaws.com
DB_PORT=5432
DB_USER=sso_prod_user
DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD_FROM_SECRETS_MANAGER
DB_NAME=sso_db_prod
DB_SSLMODE=require

# Redis Configuration (Use managed Redis service)
REDIS_HOST=your-prod-redis-cluster.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_SECURE_REDIS_PASSWORD
REDIS_DB=0

# JWT Configuration (Production - use strong secrets)
JWT_SECRET=REPLACE_WITH_CRYPTOGRAPHICALLY_SECURE_SECRET_KEY_AT_LEAST_256_BITS
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=168h

# OAuth Configuration
OAUTH_CODE_EXPIRY=10m

# Email Configuration (Use managed email service)
SMTP_HOST=email-smtp.us-east-1.amazonaws.com
SMTP_PORT=587
SMTP_USERNAME=REPLACE_WITH_SES_SMTP_USERNAME
SMTP_PASSWORD=REPLACE_WITH_SES_SMTP_PASSWORD
FROM_EMAIL=noreply@yourdomain.com

# Rate Limiting (Production settings)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60s

# CORS Configuration (Restrict to your frontend domains)
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000

# Logging (Production settings)
LOG_LEVEL=info
LOG_FORMAT=json

# Database Connection Pool (Optimized for production)
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=3600s

# Monitoring & Observability
METRICS_ENABLED=true
METRICS_PATH=/metrics
HEALTH_CHECK_ENABLED=true

# TLS Configuration
TLS_CERT_FILE=/etc/ssl/certs/server.crt
TLS_KEY_FILE=/etc/ssl/private/server.key

# Session Configuration
SESSION_SECURE=true
SESSION_HTTPONLY=true
SESSION_SAMESITE=strict

# Production Features
DEBUG_ENABLED=false
HOT_RELOAD=false

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Cache Configuration
CACHE_TTL=3600s
CACHE_MAX_MEMORY=256mb

# Application Insights (Optional - if using monitoring service)
# APP_INSIGHTS_KEY=your-application-insights-key
# DATADOG_API_KEY=your-datadog-api-key
# NEW_RELIC_LICENSE_KEY=your-newrelic-license-key